(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[3844],{4928:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/register/steps/camera",function(){return n(2553)}])},1449:function(e,t,n){"use strict";n.d(t,{Ai:function(){return h},Fj:function(){return l},S0:function(){return u},d8:function(){return d},lZ:function(){return f},ml:function(){return c}});var r=n(7568),i=n(4051),a=n.n(i),s=n(9669),o=n.n(s)().create({baseURL:"https://api.ipassa.org/v1/account/",headers:{"Content-type":"application/json"}});o.interceptors.request.use((function(e){var t=localStorage.getItem("accessToken");if(t){console.log({token:t});var n=t;return e.headers.Authorization="Bearer "+n,e}location.href="/sign-in"})),o.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)}));var c=function(){var e=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.get("getAllSecurityQuestions");case 2:return t=e.sent.data,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}(),u=(function(){var e=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.get("profile/getInfo");case 2:return t=e.sent.data,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})))}(),function(){var e=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.post("registrationStep/securityQuestionStep",t);case 2:return n=e.sent.data,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),l=function(){var e=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.post("registrationStep/updateInformation",t);case 2:return n=e.sent.data,e.abrupt("return",n);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),d=function(){var e=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.defaults.headers["Content-type"]="multipart/form-data",e.next=3,o.post("registrationStep/uploadDocuments",t);case 3:return n=e.sent.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),f=function(){var e=(0,r.Z)(a().mark((function e(t){var n;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return o.defaults.headers["Content-type"]="application/json",e.next=3,o.post("registrationStep/pinAddress",t);case 3:return n=e.sent.data,e.abrupt("return",n);case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),h=function(){var e=(0,r.Z)(a().mark((function e(){var t;return a().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,o.get("/profile/getInfo");case 2:return t=e.sent.data,e.abrupt("return",t);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},2553:function(e,t,n){"use strict";n.r(t);var r=n(6042),i=n(9396),a=n(5893),s=n(6089),o=n.n(s),c=n(7294),u=n(1163),l=n(2016),d=n(4970),f=n.n(d),h=(n(3234),n(2123)),p=n(7536),m=n(9454),x=n(1449),v=n(3471),g={facingMode:"user"},w=function(e){var t=e.setStep,n=(0,p.Gc)(),s=n.setValue,d=n.handleSubmit,h=(0,u.useRouter)(),w=h.query.selfie,j=(0,c.useState)(""),b=j[0],y=j[1],k=(0,c.useState)(g),M=k[0],S=k[1],N=(0,c.useRef)(null),U=(0,c.useState)(13),z=U[0],C=U[1],_=(0,v.useMutation)(["postUploadDocuments"],x.d8,{onSuccess:function(){t((function(e){return e+1})),h.push("/register/steps")},onError:function(e){if(401===e.response.data.status)return t((function(e){return e+1})),void h.push("/register/steps")}}),O=_.mutate,P=_.isLoading;(0,c.useEffect)((function(){S(w?function(e){return(0,i.Z)((0,r.Z)({},e),{facingMode:"face"})}:function(e){return(0,i.Z)((0,r.Z)({},e),{facingMode:"environment"})})}),[w]);var A=(0,c.useRef)(null);return b?(0,a.jsxs)("div",{className:"h-[90vh]",children:[(0,a.jsx)("audio",{id:"xxx",preload:"metadata",children:(0,a.jsx)("source",{src:"/audio/capture_img.wav",type:"audio/wav"})}),(0,a.jsx)("div",{className:"text-center bg-gray-500 p-3 text-white font-bold text-xl",children:"Crop Image"}),(0,a.jsx)(l.f,{zoomTo:z/100,src:b,style:{height:"40%",width:"90%",margin:"30px auto "},initialAspectRatio:w?1:9/16,guides:!1,dragMode:"move",background:!1,ref:A,viewMode:1,zoomOnTouch:!1,zoomOnWheel:!1,minCropBoxWidth:7,cropBoxMovable:!1,cropBoxResizable:!1}),(0,a.jsxs)("div",{className:"btns",children:[(0,a.jsxs)("div",{className:"text-center flex items-center justify-center px-4 mb-6",children:[(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",className:"mr-4",children:[(0,a.jsx)("path",{fill:"#fff",d:"M14.8 16c-.3 0-.6-.1-.9-.4l-3.3-3.3c-1.1.8-2.5 1.2-3.8 1.2-3.8 0-6.8-3-6.8-6.7C0 3 3 0 6.8 0c3.7 0 6.8 3 6.8 6.8 0 1.4-.4 2.7-1.2 3.8l3.3 3.3c.2.2.4.5.4.9-.1.7-.6 1.2-1.3 1.2zm-8-13.5c-2.4 0-4.3 1.9-4.3 4.3s1.9 4.3 4.3 4.3 4.3-1.9 4.3-4.3-2-4.3-4.3-4.3z"}),(0,a.jsx)("path",{fill:"#fff",d:"M9.3 7.5c0 .2-.1.3-.3.3H4.5c-.2 0-.3-.1-.3-.3V6.1c0-.2.1-.3.3-.3H9c.2 0 .3.1.3.3v1.4z"})]}),(0,a.jsx)("input",{className:"text-center w-[300px]",onChange:function(e){return C(e.target.value)},type:"range",id:"vol",name:"vol",min:13,max:"100",value:z}),(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"16",height:"16",className:"ml-4",children:[(0,a.jsx)("path",{fill:"#fff",d:"M14.8 16c-.3 0-.6-.1-.9-.4l-3.3-3.3c-1.1.8-2.5 1.2-3.8 1.2-3.8 0-6.8-3-6.8-6.7C0 3 3 0 6.8 0c3.7 0 6.8 3 6.8 6.8 0 1.4-.4 2.7-1.2 3.8l3.3 3.3c.2.2.4.5.4.9-.1.7-.6 1.2-1.3 1.2zm-8-13.5c-2.4 0-4.3 1.9-4.3 4.3s1.9 4.3 4.3 4.3 4.3-1.9 4.3-4.3-2-4.3-4.3-4.3z"}),(0,a.jsx)("path",{fill:"#fff",d:"M9 5.8H7.8V4.5c0-.2-.1-.3-.3-.3H6.1c-.2 0-.3.1-.3.3v1.3H4.5c-.2 0-.3.1-.3.3v1.4c0 .2.1.3.3.3h1.3V9c0 .2.1.3.3.3h1.4c.2 0 .3-.1.3-.3V7.8H9c.2 0 .3-.1.3-.3V6.1c0-.2-.1-.3-.3-.3z"})]})]}),(0,a.jsxs)("div",{className:"flex justify-around mb-9",children:[(0,a.jsxs)("button",{onClick:function(){A.current.cropper.rotate(90),A.current.cropper.zoomTo(.5)},className:"rounded bg-[#23C696] text-white w-[100px] relative mr-4",children:[(0,a.jsx)("div",{className:"absolute left-2 top-0 bottom-0 flex items-center content-center",children:(0,a.jsx)("img",{src:"/images/restart.svg",height:"15",width:"15",alt:""})}),"Rotate"]}),(0,a.jsxs)("button",{onClick:function(){A.current.cropper.rotate(-90),A.current.cropper.zoomTo(.5)},className:"rounded bg-[#23C696] text-white w-[100px] relative",children:[(0,a.jsx)("div",{className:"absolute right-2 top-0 bottom-0 flex items-center content-center",children:(0,a.jsx)("img",{src:"/images/restart.svg",style:{transform:"rotateY(180deg)"},height:"15",width:"15",alt:""})}),"Rotate"]})]}),(0,a.jsxs)("div",{className:"flex justify-center gap-5",children:[(0,a.jsxs)("button",{onClick:function(){return y(null)},className:"rounded bg-red-500 text-white w-[100px] relative",children:[(0,a.jsx)("div",{className:"absolute left-2 top-0 bottom-0 flex items-center content-center",children:(0,a.jsx)("img",{src:"/images/bean.svg",height:"15",width:"15",alt:""})}),"ReTake"]}),(0,a.jsxs)("button",{disabled:P,onClick:function(){var e=null===A||void 0===A?void 0:A.current,n=(null===e||void 0===e?void 0:e.cropper).getCroppedCanvas().toDataURL("image/webp");if(console.log({dataUrl:n}),!w)return s("imageId",n),void d((function(e,t){var n=e.imageSelfie,r=void 0===n?"":n,i=e.imageId,a=void 0===i?"":i;console.log(r,a);var s=new FormData;s.append("selfie_image",(0,m.OP)(r)),s.append("id_image",(0,m.OP)(a)),console.log({Documents:s}),O(s)}))();s("imageSelfie",n),t((function(e){return e+1})),h.push("/register/steps")},className:"rounded text-black bg-white w-[100px] flex items-center content-cente",children:[(0,a.jsx)("img",{src:"/images/saveBlack.svg",className:"mr-3",height:"15",width:"15",alt:""}),"Save"]})]})]}),(0,a.jsx)("style",{children:"\n          body {\n            background-color: #4B4A45 !important;\n          }\n          .btns button {\n            padding: 10px;\n          }\n          .btns {\n            position: absolute;\n            bottom: 2rem;\n            left: 0;\n            right: 0;\n            z-index: 9;\n          }\n        "})]}):(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"jsx-649a367e8ee09374  ",children:[(0,a.jsx)("audio",{id:"xxx",preload:"metadata",className:"jsx-649a367e8ee09374",children:(0,a.jsx)("source",{src:"/audio/capture_img.wav",type:"audio/wav",className:"jsx-649a367e8ee09374"})}),(0,a.jsx)("div",{className:"jsx-649a367e8ee09374 relative cameraContainer",children:(0,a.jsx)(f(),{audio:!1,style:{transform:"".concat(w?"rotateY(180deg)":"")},ref:N,videoConstraints:M,children:function(){return(0,a.jsx)(a.Fragment,{children:w?(0,a.jsx)("div",{id:"innerId",className:"jsx-649a367e8ee09374",children:(0,a.jsxs)("svg",{style:{height:"95%"},id:"Layer_1","data-name":"Layer 1",xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 343.17 534.07",className:"jsx-649a367e8ee09374",children:[(0,a.jsx)("title",{className:"jsx-649a367e8ee09374",children:"face"}),(0,a.jsx)("path",{d:"M0,450.12s41.5-27.5,58-30.5c0,0,33-12,37.5-30.5,0,0,2.5-9,0-17,0,0-20.75-30.25-25.25-81.25,0,0-21.5-42.75-7-83.25,0,0-5.5-51.75,27-76.5,0,0,34.5-46.25,120.75-24.25,0,0,30.75,9,40.25,23.75,0,0,20.75,15.25,24.75,41.5,0,0,4.25,25.5,3.75,35.75,0,0,5.25,12.25,4,16,0,0,5.75,37.75-11.5,67.75,0,0-8.75,61.25-25.5,80v13.5s-2,19,36.25,33.5c0,0,43.83,18.55,57.83,29.55",transform:"translate(1.1 -41.08)",className:"jsx-649a367e8ee09374 animated_color cls-1"}),(0,a.jsx)("rect",{x:"73.5",y:"409.04",width:"189.22",height:"123.03",className:"jsx-649a367e8ee09374 cls-1 animated_color"}),(0,a.jsx)("text",{style:{fill:"white",stroke:"white"},transform:"translate(38.58 16.74)",className:"jsx-649a367e8ee09374 cls-2",children:"Move your head up and down"}),(0,a.jsx)("text",{style:{fill:"white",stroke:"white"},transform:"translate(130.51 480.61)",className:"jsx-649a367e8ee09374 cls-3 ",children:"ID card"})]})}):(0,a.jsx)("div",{id:"innerId",className:"jsx-649a367e8ee09374",children:(0,a.jsx)("svg",{style:{height:"100vw",width:"calc(60vh * (9.5 /10))",transform:"rotateY(180deg) rotateZ(-90deg)"},version:"1.0",xmlns:"http://www.w3.org/2000/svg",width:"512.000000pt",height:"512.000000pt",viewBox:"0 0 512.000000 512.000000",preserveAspectRatio:"xMidYMid meet",className:"jsx-649a367e8ee09374",children:(0,a.jsxs)("g",{transform:"translate(0.000000,512.000000) scale(0.100000,-0.100000)",stroke:"none",className:"jsx-649a367e8ee09374 animated_color_fill",children:[(0,a.jsx)("path",{d:"M154 4226 c-27 -13 -66 -42 -87 -66 -72 -84 -67 29 -67 -1601 0 -1442 0 -1469 20 -1522 23 -62 76 -117 140 -146 45 -20 54 -21 2400 -21 2346 0 2355 1 2400 21 64 29 117 84 140 146 20 53 20 80 20 1522 0 1630 5 1517 -67 1601 -21 24 -60 53 -87 66 l-51 24 -2355 0 -2355 0 -51 -24z m4776 -102 c19 -11 45 -35 57 -54 l23 -33 0 -1477 0 -1477 -23 -34 c-12 -19 -42 -44 -67 -56 l-44 -23 -2316 0 -2316 0 -44 23 c-25 12 -55 37 -67 56 l-23 34 0 1474 c0 1580 -2 1501 48 1546 53 48 -55 46 2417 44 l2320 -2 35 -21z",className:"jsx-649a367e8ee09374"}),(0,a.jsx)("path",{d:"M858 3609 c-32 -18 -41 -48 -23 -75 l15 -24 810 0 c882 0 840 -3 840 55 0 57 26 55 -835 55 -514 -1 -796 -4 -807 -11z",className:"jsx-649a367e8ee09374"}),(0,a.jsx)("path",{d:"M3698 3609 c-224 -31 -413 -265 -463 -574 -19 -114 -19 -196 0 -311 28 -177 91 -312 196 -428 l56 -61 -41 -46 c-22 -26 -83 -92 -133 -147 l-93 -102 0 -198 c0 -155 3 -202 14 -218 14 -18 33 -19 515 -22 l501 -3 25 25 c25 25 25 26 25 220 l0 195 -58 68 c-32 38 -66 74 -76 82 -9 8 -43 44 -76 81 l-60 68 52 55 c139 144 210 344 210 587 0 242 -68 431 -208 580 -112 119 -241 168 -386 149z m195 -132 c254 -125 371 -561 242 -903 -34 -90 -104 -194 -161 -239 -61 -48 -84 -73 -84 -91 0 -8 68 -87 150 -175 l150 -161 0 -149 0 -149 -430 0 -430 0 0 148 0 147 144 155 c79 85 146 165 150 178 6 18 1 28 -25 50 -97 80 -148 142 -187 223 -64 133 -77 191 -77 364 0 170 18 254 80 378 111 218 304 309 478 224z",className:"jsx-649a367e8ee09374"}),(0,a.jsx)("path",{d:"M853 3290 c-22 -9 -28 -25 -23 -60 5 -40 3 -40 836 -40 875 0 834 -3 834 55 0 57 26 55 -835 54 -446 0 -800 -4 -812 -9z",className:"jsx-649a367e8ee09374"}),(0,a.jsx)("path",{d:"M846 2967 c-11 -8 -18 -26 -18 -42 0 -57 -32 -55 832 -55 704 0 798 2 818 16 27 18 29 55 4 77 -17 16 -88 17 -818 17 -649 0 -804 -3 -818 -13z",className:"jsx-649a367e8ee09374"}),(0,a.jsx)("path",{d:"M846 2647 c-21 -15 -25 -62 -7 -80 9 -9 216 -13 813 -15 873 -3 848 -4 848 53 0 58 42 55 -834 55 -651 0 -806 -3 -820 -13z",className:"jsx-649a367e8ee09374"}),(0,a.jsx)("path",{d:"M835 2316 c-20 -30 -7 -62 31 -76 41 -16 1573 -13 1604 3 32 16 40 65 14 84 -14 10 -179 13 -826 13 l-808 0 -15 -24z",className:"jsx-649a367e8ee09374"}),(0,a.jsx)("path",{d:"M834 1995 c-15 -23 -15 -27 0 -50 l16 -25 813 0 c619 0 816 3 825 12 15 15 15 61 0 76 -9 9 -206 12 -825 12 l-813 0 -16 -25z",className:"jsx-649a367e8ee09374"}),(0,a.jsx)("path",{d:"M834 1675 c-15 -23 -15 -27 0 -50 l16 -25 813 0 c619 0 816 3 825 12 15 15 15 61 0 76 -9 9 -206 12 -825 12 l-813 0 -16 -25z",className:"jsx-649a367e8ee09374"})]})})})})}})}),(0,a.jsx)("div",{style:{zIndex:"999999"},className:"jsx-649a367e8ee09374 text-center absolute left-0 right-0 bottom-3 z-10 ",children:(0,a.jsxs)("button",{onClick:function(){document.querySelector("#xxx").play(),(null===navigator||void 0===navigator?void 0:navigator.vibrate)&&(null===navigator||void 0===navigator||navigator.vibrate(300)),setTimeout((function(){y(N.current.getScreenshot())}),500)},className:"jsx-649a367e8ee09374 bg-[#AA1300] rounded-full relative text-white py-2 mx-auto captureBtn flex items-center justify-center",children:[(0,a.jsx)("img",{id:"",src:"/images/photo.svg",width:"30",height:"30",alt:"",className:"jsx-649a367e8ee09374"}),(0,a.jsx)("div",{className:"jsx-649a367e8ee09374 animate-[ping_2s_ease-in-out_infinite] duration-1000 anima border-2 rounded-full border-white absolute top-[25%] right-[25%] w-1/2 h-1/2"})]})}),(0,a.jsx)("div",{className:"jsx-649a367e8ee09374 backBtn",children:(0,a.jsx)("button",{onClick:function(){t((function(e){return e-1})),h.push("/register/steps")},className:"jsx-649a367e8ee09374",children:(0,a.jsxs)("svg",{xmlns:"http://www.w3.org/2000/svg",width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",stroke:"#000",strokeWidth:"2",strokeLinecap:"round",strokeLinejoin:"round",className:"jsx-649a367e8ee09374",children:[(0,a.jsx)("line",{x1:"18",y1:"6",x2:"6",y2:"18",className:"jsx-649a367e8ee09374"}),(0,a.jsx)("line",{x1:"6",y1:"6",x2:"18",y2:"18",className:"jsx-649a367e8ee09374"})]})})}),(0,a.jsx)(o(),{id:"649a367e8ee09374",children:"@media only screen and (min-height:900px){.cameraContainer.jsx-649a367e8ee09374{padding-top:50px!important}}.cameraContainer.jsx-649a367e8ee09374{height:90vh;padding-top:20px}.captureBtn.jsx-649a367e8ee09374{width:75px;height:75px;-webkit-border-radius:100%!important;-moz-border-radius:100%!important;border-radius:100%!important}#innerId.jsx-649a367e8ee09374{padding-top:inherit;width:100%;height:100%;z-index:99999;position:absolute;right:0;top:0;left:0;-o-object-fit:contain;object-fit:contain;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.backBtn.jsx-649a367e8ee09374{position:absolute;left:10px;top:10px;z-index:9999999;width:40px!important;height:40px!important;-webkit-border-radius:100%;-moz-border-radius:100%;border-radius:100%;background:white;display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center}.cls-1.jsx-649a367e8ee09374{fill:none;stroke:#58595b;stroke-miterlimit:10;stroke-width:4px}.cls-2.jsx-649a367e8ee09374{font-size:20px;fill:#010101}.cls-2.jsx-649a367e8ee09374,.cls-3.jsx-649a367e8ee09374{font-family:MyriadPro-Bold,Myriad Pro;font-weight:700}.cls-3.jsx-649a367e8ee09374{font-size:24px;fill:#58595b}@-webkit-keyframes ping{\r\n              \n              75% {\r\n                transform: scale(1.5);\r\n                opacity: 0.3;\r\n              }f\r\n            }@-moz-keyframes ping{\r\n              \n              75% {\r\n                transform: scale(1.5);\r\n                opacity: 0.3;\r\n              }f\r\n            }@-o-keyframes ping{\r\n              \n              75% {\r\n                transform: scale(1.5);\r\n                opacity: 0.3;\r\n              }f\r\n            }@keyframes ping{\r\n              \n              75% {\r\n                transform: scale(1.5);\r\n                opacity: 0.3;\r\n              }f\r\n            }@-webkit-keyframes animate2{0%{stroke:white}50%{stroke:#2eec32}100%{stroke:white}}@-moz-keyframes animate2{0%{stroke:white}50%{stroke:#2eec32}100%{stroke:white}}@-o-keyframes animate2{0%{stroke:white}50%{stroke:#2eec32}100%{stroke:white}}@keyframes animate2{0%{stroke:white}50%{stroke:#2eec32}100%{stroke:white}}@-webkit-keyframes animate2Fill{0%{fill:white}50%{fill:#2eec32}100%{fill:white}}@-moz-keyframes animate2Fill{0%{fill:white}50%{fill:#2eec32}100%{fill:white}}@-o-keyframes animate2Fill{0%{fill:white}50%{fill:#2eec32}100%{fill:white}}@keyframes animate2Fill{0%{fill:white}50%{fill:#2eec32}100%{fill:white}}.animated_color.jsx-649a367e8ee09374{-webkit-animation:animate2 2.5s infinite;-moz-animation:animate2 2.5s infinite;-o-animation:animate2 2.5s infinite;animation:animate2 2.5s infinite;-webkit-animation-timing-function:steps(1,start);-moz-animation-timing-function:steps(1,start);-o-animation-timing-function:steps(1,start);animation-timing-function:steps(1,start)}.animated_color_fill.jsx-649a367e8ee09374{-webkit-animation:animate2Fill 2.5s infinite;-moz-animation:animate2Fill 2.5s infinite;-o-animation:animate2Fill 2.5s infinite;animation:animate2Fill 2.5s infinite;-webkit-animation-timing-function:steps(1,start);-moz-animation-timing-function:steps(1,start);-o-animation-timing-function:steps(1,start);animation-timing-function:steps(1,start)}"}),(0,a.jsx)("style",{children:"\n          video {\n            width: 100%;\n            height: 100%;\n          }\n          body {\n            background: #4B4A45;\n          }\n        "})]})})};w.getLayout=function(e){return(0,a.jsx)(h.default,{children:e})},t.default=w},2123:function(e,t,n){"use strict";n.r(t);var r=n(6042),i=n(9396),a=n(5893),s=n(9008),o=n.n(s),c=n(7294),u=n(7536);t.default=function(e){var t=e.children,n=(0,c.useState)(0),s=n[0],l=n[1],d=(0,u.cI)();return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(o(),{children:(0,a.jsx)("meta",{name:"viewport",content:"width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0"})}),(0,a.jsx)(u.RV,(0,i.Z)((0,r.Z)({},d),{children:t&&c.cloneElement(t,{step:s,setStep:l})}))]})}},9454:function(e,t,n){"use strict";n.d(t,{Ds:function(){return l},Mm:function(){return h},OP:function(){return d},Pv:function(){return o},TC:function(){return f},VN:function(){return p},b8:function(){return c},fm:function(){return x},g7:function(){return u},nO:function(){return s},r7:function(){return m}});var r=n(4924),i=n(797),a=n(4855),s=function(e){return a.h.find((function(t){return t.value===e}))};var o=function(){var e,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],n=null===t||void 0===t?void 0:t.map((function(e){var t=e.country,n=e.count;return(0,r.Z)({},t.slice(0,2),Number(n))})),a=(e=Object).assign.apply(e,[{}].concat((0,i.Z)(n)));return a};function c(e){return e.match(/[0-9]/g)?e.substring(0,e.length-1):e}function u(e){return e.replace(/[^0-9$.,]/g,"")}function l(e){var t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,r=this;return function(){for(var i=arguments.length,a=new Array(i),s=0;s<i;s++)a[s]=arguments[s];var o=r;clearTimeout(t),t=setTimeout((function(){e.apply(o,a)}),n)}}function d(e){if(e){for(var t=atob(e.split(",")[1]),n=e.split(",")[0].split(":")[1].split(";")[0],r=new ArrayBuffer(t.length),i=new Uint8Array(r),a=0;a<t.length;a++)i[a]=t.charCodeAt(a);return new Blob([r],{type:n})}}function f(e){return e.length?(2.54*e).toFixed(1):""}function h(e){return e.length?(.3937*e).toFixed(1):""}function p(e){return e.length?(2.2046*e).toFixed(1):""}function m(e){return e.length?(e/2.2046).toFixed(1):""}function x(e){return e.charAt(0).toUpperCase()+e.slice(1)}},4970:function(e,t,n){var r;r=function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s="./src/react-webcam.tsx")}({"./src/react-webcam.tsx":function(e,t,n){"use strict";n.r(t);var r=n("react"),i=function(){var e=function(t,n){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var n in t)t.hasOwnProperty(n)&&(e[n]=t[n])},e(t,n)};return function(t,n){function r(){this.constructor=t}e(t,n),t.prototype=null===n?Object.create(n):(r.prototype=n.prototype,new r)}}(),a=function(){return a=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++)for(var i in t=arguments[n])Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e},a.apply(this,arguments)},s=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};function o(){return!(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)}"undefined"!==typeof window&&(void 0===navigator.mediaDevices&&(navigator.mediaDevices={}),void 0===navigator.mediaDevices.getUserMedia&&(navigator.mediaDevices.getUserMedia=function(e){var t=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;return t?new Promise((function(n,r){t.call(navigator,e,n,r)})):Promise.reject(new Error("getUserMedia is not implemented in this browser"))}));var c=function(e){function t(t){var n=e.call(this,t)||this;return n.canvas=null,n.ctx=null,n.requestUserMediaId=0,n.unmounted=!1,n.state={hasUserMedia:!1},n}return i(t,e),t.prototype.componentDidMount=function(){var e=this.state,t=this.props;this.unmounted=!1,o()?(e.hasUserMedia||this.requestUserMedia(),t.children&&"function"!=typeof t.children&&console.warn("children must be a function")):t.onUserMediaError("getUserMedia not supported")},t.prototype.componentDidUpdate=function(e){var t=this.props;if(o()){var n=JSON.stringify(e.audioConstraints)!==JSON.stringify(t.audioConstraints),r=JSON.stringify(e.videoConstraints)!==JSON.stringify(t.videoConstraints),i=e.minScreenshotWidth!==t.minScreenshotWidth,a=e.minScreenshotHeight!==t.minScreenshotHeight;(r||i||a)&&(this.canvas=null,this.ctx=null),(n||r)&&(this.stopAndCleanup(),this.requestUserMedia())}else t.onUserMediaError("getUserMedia not supported")},t.prototype.componentWillUnmount=function(){this.unmounted=!0,this.stopAndCleanup()},t.stopMediaStream=function(e){e&&(e.getVideoTracks&&e.getAudioTracks?(e.getVideoTracks().map((function(t){e.removeTrack(t),t.stop()})),e.getAudioTracks().map((function(t){e.removeTrack(t),t.stop()}))):e.stop())},t.prototype.stopAndCleanup=function(){var e=this.state;e.hasUserMedia&&(t.stopMediaStream(this.stream),e.src&&window.URL.revokeObjectURL(e.src))},t.prototype.getScreenshot=function(e){var t=this.state,n=this.props;if(!t.hasUserMedia)return null;var r=this.getCanvas(e);return r&&r.toDataURL(n.screenshotFormat,n.screenshotQuality)},t.prototype.getCanvas=function(e){var t=this.state,n=this.props;if(!this.video)return null;if(!t.hasUserMedia||!this.video.videoHeight)return null;if(!this.ctx){var r=this.video.videoWidth,i=this.video.videoHeight;if(!this.props.forceScreenshotSourceSize){var a=r/i;i=(r=n.minScreenshotWidth||this.video.clientWidth)/a,n.minScreenshotHeight&&i<n.minScreenshotHeight&&(r=(i=n.minScreenshotHeight)*a)}this.canvas=document.createElement("canvas"),this.canvas.width=(null===e||void 0===e?void 0:e.width)||r,this.canvas.height=(null===e||void 0===e?void 0:e.height)||i,this.ctx=this.canvas.getContext("2d")}var s=this.ctx,o=this.canvas;return s&&o&&(n.mirrored&&(s.translate(o.width,0),s.scale(-1,1)),s.imageSmoothingEnabled=n.imageSmoothing,s.drawImage(this.video,0,0,(null===e||void 0===e?void 0:e.width)||o.width,(null===e||void 0===e?void 0:e.height)||o.height),n.mirrored&&(s.scale(-1,1),s.translate(-o.width,0))),o},t.prototype.requestUserMedia=function(){var e=this,n=this.props,r=function(r,i){var a={video:"undefined"===typeof i||i};n.audio&&(a.audio="undefined"===typeof r||r),e.requestUserMediaId++;var s=e.requestUserMediaId;navigator.mediaDevices.getUserMedia(a).then((function(n){e.unmounted||s!==e.requestUserMediaId?t.stopMediaStream(n):e.handleUserMedia(null,n)})).catch((function(t){e.handleUserMedia(t)}))};if("mediaDevices"in navigator)r(n.audioConstraints,n.videoConstraints);else{var i=function(e){return{optional:[{sourceId:e}]}},a=function(e){var t=e.deviceId;return"string"===typeof t?t:Array.isArray(t)&&t.length>0?t[0]:"object"===typeof t&&t.ideal?t.ideal:null};MediaStreamTrack.getSources((function(e){var t=null,s=null;e.forEach((function(e){"audio"===e.kind?t=e.id:"video"===e.kind&&(s=e.id)}));var o=a(n.audioConstraints);o&&(t=o);var c=a(n.videoConstraints);c&&(s=c),r(i(t),i(s))}))}},t.prototype.handleUserMedia=function(e,t){var n=this.props;if(e||!t)return this.setState({hasUserMedia:!1}),void n.onUserMediaError(e);this.stream=t;try{this.video&&(this.video.srcObject=t),this.setState({hasUserMedia:!0})}catch(r){this.setState({hasUserMedia:!0,src:window.URL.createObjectURL(t)})}n.onUserMedia(t)},t.prototype.render=function(){var e=this,t=this.state,n=this.props,i=n.audio,o=(n.forceScreenshotSourceSize,n.onUserMedia,n.onUserMediaError,n.screenshotFormat,n.screenshotQuality,n.minScreenshotWidth,n.minScreenshotHeight,n.audioConstraints,n.videoConstraints,n.imageSmoothing,n.mirrored),c=n.style,u=void 0===c?{}:c,l=n.children,d=s(n,["audio","forceScreenshotSourceSize","onUserMedia","onUserMediaError","screenshotFormat","screenshotQuality","minScreenshotWidth","minScreenshotHeight","audioConstraints","videoConstraints","imageSmoothing","mirrored","style","children"]),f=o?a(a({},u),{transform:(u.transform||"")+" scaleX(-1)"}):u,h={getScreenshot:this.getScreenshot.bind(this)};return r.createElement(r.Fragment,null,r.createElement("video",a({autoPlay:!0,src:t.src,muted:!i,playsInline:!0,ref:function(t){e.video=t},style:f},d)),l&&l(h))},t.defaultProps={audio:!1,forceScreenshotSourceSize:!1,imageSmoothing:!0,mirrored:!1,onUserMedia:function(){},onUserMediaError:function(){},screenshotFormat:"image/webp",screenshotQuality:.92},t}(r.Component);t.default=c},react:function(t,n){t.exports=e}}).default},e.exports=r(n(7294))}},function(e){e.O(0,[8786,9956,4855,9774,2888,179],(function(){return t=4928,e(e.s=t);var t}));var t=e.O();_N_E=t}]);