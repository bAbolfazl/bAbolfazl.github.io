(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1879],{1879:function(n,t,e){"use strict";e.r(t);var r=e(5893),o=e(6089),i=e.n(o),c=e(9153),u=e(5715),s=e(8867),a=(e(5729),e(7294)),l=e(7536),d=e(1449),f=e(7035),m=e(3471),p=e(1163),b=function(){var n=(0,l.Gc)().setValue,t=(0,c.zV)({moveend:function(t){console.log(this.getCenter()),n("pinLocation",this.getCenter())},locationfound:function(n){this.flyTo(n.latlng,15)}});return(0,a.useEffect)((function(){t.locate()}),[]),null};t.default=function(n){n.step,n.setStep;var t=(0,a.useState)(""),e=t[0],o=t[1],c=(0,p.useRouter)(),x=(0,l.Gc)(),v=x.watch,h=x.handleSubmit,y=(0,m.useMutation)(["postPinAddress"],d.lZ,{onSuccess:function(){c.push("/register/notSubmitted")},onError:function(n){if(401===n.response.data.status)return c.push("/register/notSubmitted");o(n.response.data.data.message)}}),g=y.mutate,j=y.isLoading;return(0,a.useEffect)((function(){["veterinarian","animal_shelter"].includes(v("userType"))||c.push("/register/notSubmitted")}),[]),(0,r.jsxs)("div",{style:{height:"calc(100vh - 350px)"},className:"jsx-be7a2545d7cc8854 w-[98%] mx-auto",children:[(0,r.jsxs)(u.h,{center:[48.505,10.09],zoom:14,scrollWheelZoom:!1,minZoom:3,className:"h-full w-full",zoomControl:!0,children:[(0,r.jsx)(s.I,{url:"http://{s}.google.com/vt/lyrs=m&x={x}&y={y}&z={z}",subdomains:["mt0","mt1","mt2","mt3"]}),(0,r.jsx)(b,{}),(0,r.jsx)("div",{id:"yyy",className:"jsx-be7a2545d7cc8854",children:(0,r.jsx)("img",{src:"/images/location-pin-red.png",height:"80",width:"80",className:"jsx-be7a2545d7cc8854"})})]}),(0,r.jsx)("div",{className:"jsx-be7a2545d7cc8854 "+"".concat(e?"":"opacity-0"," text-red-500 mt-4 text-center"),children:e}),(0,r.jsx)("div",{className:"jsx-be7a2545d7cc8854 flex justify-around mt-8 bottom text-white pb-16 mb-6 ",children:(0,r.jsxs)("button",{onClick:function(){h((function(n,t){o("");var e=n.address,r=void 0===e?"":e,i=n.unit,c=void 0===i?"":i,u=n.city,s=void 0===u?"":u,a=n.province,l=void 0===a?"":a,d=n.zipCode,f=void 0===d?"":d,m=(n.country,n.addressCountry),p=void 0===m?"":m,b=(n.long,n.lat,n.fax_number,n.phone_number,n.pinLocation),x={address:r,unit:c,city:s,region:l,zip:f,country:null===p||void 0===p?void 0:p.value,long:null===b||void 0===b?void 0:b.lng,lat:null===b||void 0===b?void 0:b.lat};console.log({obj:x}),g(x)}))()},disabled:j||!v("pinLocation"),className:"jsx-be7a2545d7cc8854 relative flex items-center justify-center",children:[(0,r.jsx)(f.Z,{isLoading:j,className:"absolute left-2 "}),"Next",(0,r.jsx)("div",{className:"jsx-be7a2545d7cc8854 absolute right-2 top-0 bottom-0 flex items-center content-center",children:(0,r.jsx)("img",{src:"/images/forward.svg",alt:"",className:"jsx-be7a2545d7cc8854"})})]})}),(0,r.jsx)(i(),{id:"be7a2545d7cc8854",children:"#yyy.jsx-be7a2545d7cc8854{display:-webkit-box;display:-webkit-flex;display:-moz-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-webkit-align-items:center;-moz-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-webkit-justify-content:center;-moz-box-pack:center;-ms-flex-pack:center;justify-content:center;height:100%;width:100%;z-index:999;background:transparent;position:absolute;right:0;top:0;bottom:0;left:0}#yyy.jsx-be7a2545d7cc8854 img.jsx-be7a2545d7cc8854{padding-bottom:80px}.bottom.jsx-be7a2545d7cc8854>button.jsx-be7a2545d7cc8854:first-child{background:#121929;padding:7px;width:120px;-webkit-border-radius:7px!important;-moz-border-radius:7px!important;border-radius:7px!important}.bottom.jsx-be7a2545d7cc8854>button.jsx-be7a2545d7cc8854:last-child{background:#026aa1;min-width:150px;padding:7px;width:120px;-webkit-border-radius:7px!important;-moz-border-radius:7px!important;border-radius:7px!important}"})]})}},5729:function(){},5715:function(n,t,e){"use strict";e.d(t,{h:function(){return s}});var r=e(8575),o=e(5243),i=e(7294);function c(){return c=Object.assign||function(n){for(var t=1;t<arguments.length;t++){var e=arguments[t];for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(n[r]=e[r])}return n},c.apply(this,arguments)}function u({bounds:n,boundsOptions:t,center:e,children:u,className:s,id:a,placeholder:l,style:d,whenReady:f,zoom:m,...p},b){const[x]=(0,i.useState)({className:s,id:a,style:d}),[v,h]=(0,i.useState)(null);(0,i.useImperativeHandle)(b,(()=>v?.map??null),[v]);const y=(0,i.useCallback)((i=>{if(null!==i&&null===v){const c=new o.Map(i,p);null!=e&&null!=m?c.setView(e,m):null!=n&&c.fitBounds(n,t),null!=f&&c.whenReady(f),h((0,r.Hb)(c))}}),[]);(0,i.useEffect)((()=>()=>{v?.map.remove()}),[v]);const g=v?i.createElement(r.UO,{value:v},u):l??null;return i.createElement("div",c({},x,{ref:y}),g)}const s=(0,i.forwardRef)(u)},8867:function(n,t,e){"use strict";e.d(t,{I:function(){return u}});var r=e(9531),o=e(9163),i=e(5170),c=e(5243);const u=(0,r.Lf)((function({url:n,...t},e){const r=new c.TileLayer(n,(0,o.q)(t,e));return(0,i.O)(r,e)}),(function(n,t,e){const{opacity:r,zIndex:o}=t;null!=r&&r!==e.opacity&&n.setOpacity(r),null!=o&&o!==e.zIndex&&n.setZIndex(o)}))},9153:function(n,t,e){"use strict";e.d(t,{zV:function(){return c}});var r=e(8575),o=e(7294);function i(){return(0,r.mE)().map}function c(n){const t=i();return(0,o.useEffect)((function(){return t.on(n),function(){t.off(n)}}),[t,n]),t}},8575:function(n,t,e){"use strict";e.d(t,{Hb:function(){return o},UO:function(){return c},mE:function(){return u}});var r=e(7294);function o(n){return Object.freeze({__version:1,map:n})}const i=(0,r.createContext)(null),c=i.Provider;function u(){const n=(0,r.useContext)(i);if(null==n)throw new Error("No context provided: useLeafletContext() can only be used in a descendant of <MapContainer>");return n}},5170:function(n,t,e){"use strict";e.d(t,{I:function(){return i},O:function(){return o}});var r=e(7294);function o(n,t,e){return Object.freeze({instance:n,context:t,container:e})}function i(n,t){return null==t?function(t,e){return(0,r.useRef)(n(t,e))}:function(e,o){const i=(0,r.useRef)(n(e,o)),c=(0,r.useRef)(e),{instance:u}=i.current;return(0,r.useEffect)((function(){c.current!==e&&(t(u,e,c.current),c.current=e)}),[u,e,o]),i}}},9531:function(n,t,e){"use strict";e.d(t,{vm:function(){return a},Lf:function(){return l}});var r=e(7294);e(3935);function o(n){function t(t,e){const{instance:o}=n(t).current;return(0,r.useImperativeHandle)(e,(()=>o)),null}return(0,r.forwardRef)(t)}var i=e(8575);var c=e(5170);var u=e(9163);function s(n){return function(t){const e=(0,i.mE)(),o=n((0,u.q)(t,e),e);return function(n,t){const e=(0,r.useRef)(t);(0,r.useEffect)((function(){t!==e.current&&null!=n.attributionControl&&(null!=e.current&&n.attributionControl.removeAttribution(e.current),null!=t&&n.attributionControl.addAttribution(t)),e.current=t}),[n,t])}(e.map,t.attribution),function(n,t){const e=(0,r.useRef)();(0,r.useEffect)((function(){return null!=t&&n.instance.on(t),e.current=t,function(){null!=e.current&&n.instance.off(e.current),e.current=null}}),[n,t])}(o.current,t.eventHandlers),function(n,t){(0,r.useEffect)((function(){return(t.layerContainer??t.map).addLayer(n.instance),function(){t.layerContainer?.removeLayer(n.instance),t.map.removeLayer(n.instance)}}),[t,n])}(o.current,e),o}}function a(n){const t=function(n){return function(t){const e=(0,i.mE)(),o=n(t,e),{instance:c}=o.current,u=(0,r.useRef)(t.position),{position:s}=t;return(0,r.useEffect)((function(){return c.addTo(e.map),function(){c.remove()}}),[e.map,c]),(0,r.useEffect)((function(){null!=s&&s!==u.current&&(c.setPosition(s),u.current=s)}),[c,s]),o}}((0,c.I)((function(t,e){return(0,c.O)(n(t),e)})));return o(t)}function l(n,t){return o(s((0,c.I)(n,t)))}},9163:function(n,t,e){"use strict";function r(n,t){const e=n.pane??t.pane;return e?{...n,pane:e}:n}e.d(t,{q:function(){return r}})}}]);